<!DOCTYPE html>
<html>
  <head>
    <title>Tietokantasovellus</title>
    <meta charset="utf-8" />
    <style>
      h1 { font-size: 1.4em; }
      h2 { font-size: 1.1em; }
    </style>
  </head>
  <body>
    <h1>Tietokantasovelluksen esittelysivu - Ilkka Porna</h1>
    <p>HUOM! Dealine 4:n dokumentaatio tämän esittelysivun kautta<br>
        <b>Kävijädatan keruumekanismi:</b><br>
        <a href="http://porna.users.cs.helsinki.fi/tsoha/testisivut/testisivu.php">Testisivuilla</a> (10 kpl dynaamisesti muodostettuja) on kävijädatan keruu tagitus päällä sivupohjassa. Klikkailemalla testisivulta toiselle linkkien kautta, jokainen uusi sivulataus kerryttää kävijädataa. Tagi sivuilla lähettää osoitteeseen /tsoha/track.php http-pyynntöjä, joihin on javascriptilla asetettu get-parametriin sivun otsikko.
        track.php parsii tiedot http-pyynnöstä ja tallettaa sivun urlin ja otsikon kantaa tauluun events. track.php myös tarkistaa onko kävijällä mittausevästettä. Jos ei ole se muodostaa tauluun browsers uuden numeroidun rivin ja asettaa kävijän selaimelle mittausevästeen, jossa rivin numero. Jos eväste on jo olemassa track.php päivittää kysisen evästenumeron riviä taulussa browsers. browsers tauluun asetetaan luontiaika (eli selaimen ensimmäisen sivulatauksen ajankohta) sekä viimeisimmän sivultauksen ajankohta. Lisäksi browsers tauluun tallennetaa selaimen user-agent http-pyynnöstä, joka sisältää teknisiä yksityiskohtia kävijän selaimesta. Evästeen numero tallennetaan myös events-taulun riveihin, joka on foreign key taulussa.<br>
        <br>
        <b>Kävijädatan lukeminen</b><br>
        <a href="http://porna.users.cs.helsinki.fi/tsoha/">Kirjautumalla sisäsään palveluun</a> (tunnus: ilkka salasana: test) pääsee lukemaan kävijädataa raporttinäkymästä. Raporttinäkymässä on kaksi raportti: Tapahtumaraportti ja Kävijäraportti. Tässä vaiheessa ne listaavat rivitason tiedor kummastakin taulusta. Jos klikkailee testisvuilla ja päivittää (esim. jommasta kummasta napista sivulla) raporttinäkymän niin näkee oman selaimen liikkeet tauluissa. Jos tyhjentää testisivujen asettaman keksin selaimesta ja menee uudelleen klikkailemaan testisivuja, niin raportteihin ilmestyy uusi selainnumero ja sen tapahtumia.<br>
        Raporttien aikaikkunat eivät vielä toimi, mutta annetut arvot kulkevat mukana, jos niitä vaihtaa.<br>
        <br>
        Alkavalla viikolla on tarkoitus keskittyä näiden raporttinäkymien kehittämiseen sellaisiksi, että soveltuvat datan analysointiin monipuolisesti...
        
        

        
        
            
    </p>
    
    <p>Yleisiä linkkejä</p>
    <ul>
      <!-- Korvaa ohessa olevat sanat GITHUBTUNNUS ja 
           REPOSITORIO omilla tiedoillasi: -->
      <li><a href="https://github.com/ilcca/TsoHa">Työn repositorio GitHub.comissa</a></li>
      <li><a href="https://github.com/ilcca/TsoHa/blob/master/Dokumentaatio/Dokumentaatio.pdf">Työn dokumentaatio</a></li>
      <li><a href="http://porna.users.cs.helsinki.fi/tsoha/">Kirjautumisen demo: tunnus: ilkka salasana: test</a></li>

      <!-- Viikolla 2 voit laittaa kommentoidut linkitkin sivuille. 
           Ota kommenttimerkit pois sen kielen ympäriltä, jota käytät -->

      <!-- Linkit Java-kielelle.
           Korvaa sana cstunnus omalla tktl-tunnuksellasi ja sana 
           Tietokantasovellus tietokantasovelluksesi usersille 
           pystytetyllä nimellä: 
      -->
      <!--
      <li><a href="http://t-cstunnus.users.cs.helsinki.fi/ConnectionTest">Connectiontest-ohjelma</a></li>
      <li><a href="http://t-cstunnus.users.cs.helsinki.fi/Tietokantasovellus/html-demo/index.jsp">HTML-demosivujen etusivu</a></li>
      <li><a href="http://t-cstunnus.users.cs.helsinki.fi/Tietokantasovellus/Listaustesti">Ensimmäinen oma tietokantalistaus</a></li>
      -->
      <!-- Linkit PHP-kielelle.
           Korvaa sana cstunnus omalla tktl-tunnuksellasi ja sana 
           Tietokantasovellus sen hakemiston nimellä, missä 
           sovelluksesi usersin htdocs-kansiossa sijaitsee:
      -->
      <!--
      <li><a href="http://cstunnus.users.cs.helsinki.fi/connectiontest.php">Connectiontest-ohjelma</a></li>
      <li><a href="http://cstunnus.users.cs.helsinki.fi/Tietokantasovellus/html-demo/index.html">HTML-demosivujen etusivu</a></li>
      <li><a href="http://cstunnus.users.cs.helsinki.fi/Tietokantasovellus/listaustesti.php">Ensimmäinen oma tietokantalistaus</a></li>
      -->
      
      <!-- Viikolla 3 laita alla kommentoitu linkki osoittamaan omaan kirjautumissivuusi. -->
      <!--
      <li><a href="http://cstunnus.users.cs.helsinki.fi/Tietokantasovellus/index.php">Sovelluksen kirjautumissivu</a></li>
      -->
    </ul>

    <h2>Työn aihe: Web-sivuston kävijäseurantajärjestelmä</h2>
    <p>
        Järjestelmä kerää dataa tietyn web-sivuston käyttäjien liikkeistä sivustolla. 
        Järjestelmällä voidaan tuottaa tilastollisia yhteenvetoja ja analyysejä kävijädatasta.
    </p>
    <!--
    <h2>Kirjautumistunnuksia testausta varten</h2>

    <p>Laita tähän viikolla 3 lista tunnuksista, joilla sovellusta voi testata</p>
    <p>Esim:<br />
    Pääkäyttäjän tunnus ja salasana:<br /> admin, kissakala
    </p>
    -->
  </body>
</html>
